<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Anchorr - The missing bridge between Discord and your Jellyfin server." />
    <title>Anchorr</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="assets/logo.png" type="image/png" />
  </head>
  <body>
    <div class="background-glow"></div>
    
    <nav class="navbar">
      <div class="container">
        <a href="#" onclick="switchView('home'); return false;" class="navbar-brand">
          <img src="./assets/logo.png" alt="Anchorr Logo" class="logo-icon" />
          <span class="logo-text">Anchorr</span>
        </a>
        <div class="nav-links">
          <a href="https://discord.gg/S5JrsZe9mB" target="_blank" rel="noopener noreferrer" class="github-link">
            <i class="bi bi-discord"></i> Discord
          </a>
          <a href="https://github.com/nairdahh/Anchorr" target="_blank" rel="noopener noreferrer" class="github-link">
            <i class="bi bi-github"></i> GitHub
          </a>
        </div>
      </div>
    </nav>

    <main>
      <!-- HOME VIEW -->
      <div id="view-home" class="view-section">
        <section class="hero">
          <div class="container">
            <div class="hero-content">
              <h1 class="hero-title">
                Connect Discord <br />
                to <span class="gradient-text">Jellyfin</span>
              </h1>
              <p class="hero-subtitle">
                The missing link for your media server. Seamlessly integrate Jellyfin and Jellyseerr with your Discord community for real-time notifications and easy media requests.
              </p>
              <div class="hero-actions">
                <button onclick="switchView('setup')" class="btn btn-primary">
                  Get Started <i class="bi bi-arrow-right"></i>
                </button>
                <button onclick="switchView('about')" class="btn btn-secondary">
                  Learn More
                </button>
              </div>
            </div>
            <div class="hero-visual">
              <div class="glass-card floating">
                <div class="notification-mockup">
                  <div class="notif-icon">
                    <img src="./assets/logo.png" alt="Logo">
                  </div>
                  <div class="notif-content">
                    <div class="notif-header">
                      <span class="notif-app">Anchorr</span>
                      <span class="notif-time">Now</span>
                    </div>
                    <div class="notif-title">New Movie Added</div>
                    <div class="notif-body">"Dune: Part Two" has been added to your library.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="features" class="features">
          <div class="container">
            <div class="features-grid">
              <div class="feature-card">
                <div class="feature-icon">
                  <i class="bi bi-discord"></i>
                </div>
                <h3>Discord Native</h3>
                <p>Manage everything directly from Discord. Slash commands make requesting media and managing your server effortless.</p>
              </div>
              <div class="feature-card">
                <div class="feature-icon">
                  <i class="bi bi-collection-play"></i>
                </div>
                <h3>Jellyfin & Jellyseerr</h3>
                <p>Deep integration allows for instant notifications when media is added and seamless request handling via Jellyseerr.</p>
              </div>
              <div class="feature-card">
                <div class="feature-icon">
                  <i class="bi bi-shield-check"></i>
                </div>
                <h3>Self-Hosted</h3>
                <p>Your data, your server. Host Anchorr on your own infrastructure with Docker or Node.js for complete control.</p>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- SETUP VIEW -->
      <div id="view-setup" class="view-section hidden">
        <div class="container content-page">
          <button onclick="switchView('home')" class="btn-back"><i class="bi bi-arrow-left"></i> Back to Home</button>
          
          <h2><i class="bi bi-clipboard-check text-accent"></i> Prerequisites</h2>
          <p>Before getting started, ensure you have:</p>
          <ul class="checklist">
            <li><i class="bi bi-check-circle-fill text-green"></i> A running <strong>Jellyfin</strong> server</li>
            <li><i class="bi bi-check-circle-fill text-green"></i> A running <strong>Jellyseerr</strong> instance</li>
            <li><i class="bi bi-check-circle-fill text-green"></i> A <strong>Discord account</strong> with a server where you have admin privileges</li>
            <li><i class="bi bi-check-circle-fill text-green"></i> API keys from:
              <ul>
                <li><a href="https://www.themoviedb.org/settings/api" target="_blank">The Movie Database (TMDB)</a> - <strong>Required</strong></li>
                <li><a href="http://www.omdbapi.com/apikey.aspx" target="_blank">OMDb API</a> - Optional, but recommended for richer data</li>
              </ul>
            </li>
            <li><i class="bi bi-check-circle-fill text-green"></i> <strong>Node.js</strong> v18+ or <strong>Docker & Docker Compose</strong></li>
          </ul>

          <h2><i class="bi bi-rocket-takeoff text-accent"></i> Quick Start</h2>
          
          <div class="step-block glass-card">
            <h3><i class="bi bi-1-circle text-blue"></i> Clone and Install</h3>
            <pre><code>git clone https://github.com/nairdahh/anchorr.git
cd anchorr
npm install</code></pre>
          </div>

          <div class="step-block glass-card">
            <h3><i class="bi bi-2-circle text-blue"></i> Start the Application</h3>
            <pre><code>node app.js</code></pre>
            <p>The landing page will be available at <code>http://localhost:8283</code></p>
          </div>

          <div class="step-block glass-card">
            <h3><i class="bi bi-3-circle text-blue"></i> Configure Environment</h3>
            <ol>
              <li>Rename <code>.env.example</code> to <code>.env</code></li>
              <li>Open <code>.env</code> and fill in your Discord Bot credentials, API keys, and service URLs</li>
              <li>Restart the application: <code>node app.js</code></li>
            </ol>
          </div>

          <div class="step-block glass-card">
            <h3><i class="bi bi-4-circle text-blue"></i> Invite Bot to Discord</h3>
            <p>Generate an OAuth2 URL in <a href="https://discord.com/developers/applications" target="_blank">Discord Developer Portal</a>:</p>
            <ul>
              <li>OAuth2 → URL Generator</li>
              <li>Scopes: <code>bot</code>, <code>applications.commands</code></li>
              <li>Permissions: Send Messages, Embed Links</li>
              <li>Copy generated URL and open in browser</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- ABOUT VIEW -->
      <div id="view-about" class="view-section hidden">
        <div class="container content-page">
          <button onclick="switchView('home')" class="btn-back"><i class="bi bi-arrow-left"></i> Back to Home</button>
          
          <div class="about-header">
            <h2>About Anchorr</h2>
            <p class="lead">Anchorr is a self-hosted, lightweight bridge that connects your Jellyfin media server with Discord.</p>
          </div>

          <div class="about-content">
            <p>It notifies you on a dedicated channel when new media is added to your library, and with Jellyseerr integration, you can search and request movies and shows directly from Discord.</p>
            
            <h3>Features</h3>
            <ul class="feature-list">
              <li>
                <strong>/search &lt;title&gt;</strong>
                <p>Search for a movie or show with auto-suggestions. An embed with detailed information is shown, from which you can request the media. For TV shows, you have the option to select the desired seasons for the request.</p>
              </li>
              <li>
                <strong>/request &lt;title&gt;</strong>
                <p>Instantly send a request for your chosen movie or show directly to Jellyseerr. For TV shows, this automatically requests all seasons.</p>
              </li>
              <li>
                <strong>Notifications</strong>
                <p>Receive beautifully formatted notifications on your selected Discord channel whenever new media is added to your Jellyfin library.</p>
              </li>
              <li>
                <strong>Rich Metadata</strong>
                <p>Using the TMDB and OMDb databases, Discord messages get a beautiful and well-structured look, with essential information about the requested or added media content.</p>
              </li>
            </ul>

            <h3>Self-hosted, full control.</h3>
            <p>This version of Anchorr is open-source and self-hosted by users, allowing full control over how Anchorr works and what it does. In parallel, I am working on a direct bot implementation for Discord, which is much easier to configure and doesn't require a self-hosted server. You can find the link in the header.</p>

            <div class="support-section glass-card">
              <h3>Support the Project</h3>
              <p>If you find Anchorr useful, consider supporting its development. Every coffee helps fuel late-night coding sessions!</p>
              <div class="support-actions" style="display: flex; gap: 1rem; justify-content: space-between; align-items: center; margin-top: 1.5rem; flex-wrap: wrap;">
                <a href="https://ko-fi.com/nairdah" target="_blank" class="btn btn-primary"><i class="bi bi-cup-hot"></i> Buy me a Coffee</a>
                <a href="https://github.com/nairdahh/Anchorr" target="_blank" class="btn btn-secondary"><i class="bi bi-github"></i> Contribute</a>
              </div>
            </div>

            <div class="credits">
              <p class="thank-you">Thank you for using Anchorr!<br>Please contact me for any matter about the project.</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      function switchView(viewName) {
        // Hide all views
        document.querySelectorAll('.view-section').forEach(el => {
          el.classList.add('hidden');
          el.classList.remove('fade-in');
        });
        
        // Show selected view
        const view = document.getElementById('view-' + viewName);
        if (view) {
          view.classList.remove('hidden');
          view.classList.add('fade-in');
          window.scrollTo(0, 0);
          
          // Ensure URL is clean (no hash)
          history.replaceState(null, '', window.location.pathname);
        }
      }
    </script>

    <footer>
      <div class="container">
        <div class="footer-content">
          <p class="copyright">&copy; 2025 Anchorr — Open Source.</p>
          <div class="footer-links">
            <a href="https://github.com/nairdahh/Anchorr" target="_blank">GitHub</a>
            <a href="https://github.com/nairdahh/Anchorr/issues" target="_blank">Issues</a>
            <a href="https://ko-fi.com/nairdah" target="_blank">Donate</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
